
select count(*) 
from scott.dept
where deptno = 6578;


select sum(sal) 
from scott.emp
where deptno = 1000;



/*
CONSULTAR EL SALARIO DE UN EMPLEADO
*/

CREATE OR REPLACE PROCEDURE SCOTT.SP_GET_SALARIO
(
  P_CODEMP  IN  NUMBER, 
  P_SALARIO OUT NOCOPY NUMBER,
  P_MENSAJE OUT NOCOPY VARCHAR2
)
IS
BEGIN
  
  P_MENSAJE := 'OK';

  SELECT SAL INTO P_SALARIO
  FROM   SCOTT.EMP
  WHERE  EMPNO = P_CODEMP;

EXCEPTION
  WHEN NO_DATA_FOUND THEN
    P_MENSAJE := 'CODIGO DE EMPLEADO ' || P_CODEMP || ' NO EXISTE';
END;
/


DECLARE
  V_CODEMP   NUMBER(6);
  V_SALARIO  NUMBER(10,2);
  V_MENSAJE  VARCHAR2(500);
BEGIN
  -- Dato
  V_CODEMP := 7369;
  -- Proceso
  SCOTT.SP_GET_SALARIO(V_CODEMP,V_SALARIO,V_MENSAJE);
  -- Reporte
  DBMS_OUTPUT.PUT_LINE('SALARIO: ' || V_SALARIO);
  DBMS_OUTPUT.PUT_LINE('MENSAJE: ' || V_MENSAJE);
END;
/


DECLARE
  V_CODEMP   NUMBER(6);
  V_SALARIO  NUMBER(10,2);
  V_MENSAJE  VARCHAR2(500);
BEGIN
  -- Dato
  V_CODEMP := 56789;
  -- Proceso
  SCOTT.SP_GET_SALARIO(V_CODEMP,V_SALARIO,V_MENSAJE);
  -- Reporte
  DBMS_OUTPUT.PUT_LINE('SALARIO: ' || V_SALARIO);
  DBMS_OUTPUT.PUT_LINE('MENSAJE: ' || V_MENSAJE);
END;
/






CREATE OR REPLACE PROCEDURE SCOTT.SP_GET_SALARIO
(
  P_CODEMP  IN  NUMBER, 
  P_SALARIO OUT NOCOPY NUMBER,
  P_MENSAJE OUT NOCOPY VARCHAR2
)
IS
  V_CONTA NUMBER(8);
BEGIN
  
  P_MENSAJE := 'OK';
  
  SELECT COUNT(1) INTO V_CONTA
  FROM SCOTT.EMP
  WHERE  EMPNO = P_CODEMP;
  
  IF V_CONTA = 0 THEN
    P_MENSAJE := 'CODIGO DE EMPLEADO ' || P_CODEMP || ' NO EXISTE';
    RETURN;
  END IF;
  
  SELECT SAL INTO P_SALARIO
  FROM   SCOTT.EMP
  WHERE  EMPNO = P_CODEMP;

EXCEPTION
  WHEN OTHERS THEN
    P_MENSAJE := 'ERROR: ' || SQLERRM;
END;
/



DECLARE
  V_CODEMP   NUMBER(6);
  V_SALARIO  NUMBER(10,2);
  V_MENSAJE  VARCHAR2(500);
BEGIN
  -- Dato
  V_CODEMP := 7369;
  -- Proceso
  SCOTT.SP_GET_SALARIO(V_CODEMP,V_SALARIO,V_MENSAJE);
  -- Reporte
  DBMS_OUTPUT.PUT_LINE('SALARIO: ' || V_SALARIO);
  DBMS_OUTPUT.PUT_LINE('MENSAJE: ' || V_MENSAJE);
END;
/


DECLARE
  V_CODEMP   NUMBER(6);
  V_SALARIO  NUMBER(10,2);
  V_MENSAJE  VARCHAR2(500);
BEGIN
  -- Dato
  V_CODEMP := 56789;
  -- Proceso
  SCOTT.SP_GET_SALARIO(V_CODEMP,V_SALARIO,V_MENSAJE);
  -- Reporte
  DBMS_OUTPUT.PUT_LINE('SALARIO: ' || V_SALARIO);
  DBMS_OUTPUT.PUT_LINE('MENSAJE: ' || V_MENSAJE);
END;
/









